EntityType,CaseID,Component,Description,StepNumber,StepDescription,ExpectedResult,TestType,Status,FeatureID,PreCondition,PostCondition,TestScriptEntry,TestScriptExpectResult
TestScript,ethernet_connect_internet,COMMS/Ethernet,check internet connection via ethernet,1,Ensure ethernet cable is connceted to Internet,,FVT,ready,IOTOS-461,,,,
TestStep,,,,2,Plug the other port to IoT device,,,,,,,,
TestStep,,,,3,Check if wget http://www.kernel.org/pub/linux/bluetooth/bluez-5.30.tar.xz,wget command works,,,,,,,
TestScript,bt_gatt_write_handle,COMMS/Bluetooth,use gatttool to write IoT BLE handle value,1,IoT device does ble advertising. Command is: hciconfig hci0 leadv,,EFT,design,IOTOS-456,,,,
TestStep,,,,2,"On Host, gatttool -b <iot BT MAC> --characteristics",,,,,,,,
TestStep,,,,3,"In the characteristics list, use a handle to see its value. Command is:
gatttool -b <iot BT MAC> --char-read -a <handle>",,,,,,,,
TestStep,,,,4,"Write new value into the handle by:
gatttool -b <iot BT MAC> --char-write-req -a <handle> -n abcd",return write success,,,,,,,
TestStep,,,,5,"Read this handle again.
gatttool -b <iot BT MAC> --char-read -a <handle>",the value has been modified to 'ab cd ...',,,,,,,
TestScript,comm_can_can0,COMMS/CAN,enable CAN bus to recognize can0,1,Run ifconfig after system boots up.,There should be 'can0' interface,FVT,ready,IOTOS-385,,,,
TestScript,comm_can_data_dump,COMMS/CAN,send data to can0 and dump data,1,Send message to can0 bus. Command is: ./cansend can0 500#1E.10.10,command return 0 (success),FVT,ready,IOTOS-385,,,,
TestStep,,,,2,"In another terminal, receive message on can0: Command is: ./candump can0","It will print ""can0 500 [3] 1E 10 10""",,,,,,,
TestScript,comm_rs232_debugging,COMMS/rs232,connect rs232 cable for debugging,1,Plug RS232 cable to the main-board,,FVT,ready,IOTOS-379,,,,
TestStep,,,,2,Check by minicom on PC to get the debugging output,info could be output on minicom,,,,,,,
TestScript,comm_rs232_usb_to_serial,COMMS/rs232,Plug usb port to IoT and plug rs232 to PC,1,Plug usb port to IoT device ,,FVT,ready,IOTOS-381,,,,
TestStep,,,,2,plug rs232 (with rs232-com cable) to the COM of PC,,,,,,,,
TestStep,,,,3,Run serial-test (source code is in attachment of the feature 381) on IoT device: serial-test /dev/ttyUSB0,,,,,,,,
TestStep,,,,4,"On the other part, plug the serial port to a PC, launch COM1 with 115200. Enter YooHoo","minicom echoes ""2U2"". ",,,,,,,
TestScript,Upgrade_BSP_kernel_4.1,BSP / meta-intel,To check kernel is upgraded to 4.1  on P1 platforms,1,Check kernel version by 'uname -a' command,kernel version should be 4.1 or higher,FVT,ready,IOTOS-638,,,,
TestStep,,,,2,Ensure there is no regression found in sanity test for GB-BXBT and Galileo.,No specific bugs for kernel 4.1 or higher,,,,,,,
TestScript,VirtualBox_VM_Support,BSP / Other,The product shall run on a VirtualBox VM,1,put vdi image in virtualbox and run sanity test cases,No specific bugs for virtualbox,FVT,ready,IOTOS-467,,,,
TestScript,bitbake_types_of_images,SCM / Build Tools,To check bitbake can build types of images and image has multi-partitions,1,Boot from kinds of image and check partition by 'cat /proc/partitions',kinds of image are generated and all images have mutli-partitions,FVT,ready,IOTOS-722,,,,
TestScript,PREMIRRORS_distro_configuration,OS / Distro Configuration,To check CI shall provide a source archive for Ostro releases,1,Check meta-ostro/conf/distro/ostro.conf has configuration about PREMIRRORS(SOURCE_MIRROR_URL) ,Has this configuration,FVT,ready,IOTOS-788,,,,
TestStep,,,,2,Check the archive source are located in SOURCE_MIRROR_URL,See archived source code in the url ,,,,,,,
TestScript,documentation_REST_APIs,Documentation,To check the docs of REST API,1,Check doc files in https://github.com/01org/iot-rest-api-server/tree/master/doc,See raml files ,FVT,ready,IOTOS-560,,,,
TestScript,dev_image_workable,OS / Image Configuration,To check dev image is bootable and related packages are inclued,1,Download dev image and install it on P1 platforms to check it can boot successfully,dev image boot successfully,FVT,ready,IOTOS-784,,,,
TestStep,,,,2,"Check related packages(packagegroup-core-buildessential,smartpm,git,gdb,valgrind) are installed",packages are installed in image,,,,,,,
TestScript,documentation_How to build/modify Ostro OS,Documentation,To check the Instruction correctness,1,Check the doc mentioned in this Requirement,The doc instruction is correct,FVT,design,IOTOS-835,,,,
TestScript,documentation_Contributing_to_Ostro_OS,Documentation,To check the Instruction correctness,1,Check the doc mentioned in this Requirement,The doc instruction is correct,FVT,design,IOTOS-836,,,,
TestScript,documentation_Supported_HW_platforms,Documentation,To check the Instruction correctness,1,make sure platform description is accurate and the links provided are correct,The doc is correct,FVT,ready,IOTOS-837,,,,
TestScript,sol_oic_find_single_resource,COMMS/Iotivity,Use soletta node type API to find single oic resource,1,"Put 3 test files ('light-client.fbp', 'light-server.fbp' and 'sol-flow.json' from soletta source src/examples/flow/oic/) to IoT device /home/root/ folder. ",,EFT,design,IOTOS-1019,,,,
TestStep,,,,2,"In the IoT device, it should be able to run fbp file. Then, run:
> export SOL_MACHINE_ID=""580a3d6a9d194a23b90a24573558d2f4""
> ./light-server.fbp",The light-server is able to be setup. And no anything output.,,,,,,,
TestStep,,,,3,"In another terminal, run: ./light-client.fbp","After client running, both client and server part will output continousely:
LightState true (boolean)
LightState false (boolean)",,,,,,,
TestScript,sol_oic_find_multiple_resource,COMMS/Iotivity,Use soletta node type API to scan multiple oic resource,1,Put 2 test files ('light-scan/light-client-scan.fbp' and 'light-scan/sol-flow.json' from soletta source src/examples/flow/oic/) to IoT device /home/root/ folder. ,,EFT,design,IOTOS-1019,,,,
TestStep,,,,2,Put light-server.fbp to at least 2 IoT devices. ,,,,,,,,
TestStep,,,,3,"In the 2 IoT devices, start light-server with different id:
> export SOL_MACHINE_ID=""580a3d6a9d194a23b90a24573558d2f4""
> ./light-server.fbp","On 2 devices, the light-server is able to be setup. And no anything output.",,,,,,,
TestStep,,,,4,"In another terminal, run: ./light-client-scan.fbp to scan all resources. ",The 2 light-server should be found. ,,,,,,,
TestScript,eSDK installation,eSDK,"Install eSDK on host machine (host OS: Ubuntu, Debian, Fedora, CentOS, OpenSUSE)",1,run esdk-test.sh to download and install the latest eSDK release,eSDK installation and environment preparation are successful,EFT,ready,IOTOS-439,,,,
TestScript,eSDK build ostro image,eSDK,Build ostro image with default configuration from eSDK,1,"run ""source environment-setup-{target platform}-ostro-linux"" under sdk installation folder",SDK toolkit devtool exec path added,EFT,ready,"IOTOS-439,IOTOS-775",,,,
TestStep,,,,2,"run ""devtool build-image ostro-image"" to build out ostro image",Ostro image can be built out,,,,,,,
TestScript,eSDK build user app,eSDK,,1,"run ""devtool add {testapp recipe} {test recipe source tree}",new recipe added in workspace/appends,EFT,ready,IOTOS-439,,,,
TestStep,,,,2,"edit the appended recipe about how to build and installation parts, then run ""devtool {testapp}""",the testapp can be built out by eSDK.,,,,,,,
TestScript,eSDK update,eSDK,,1,"run ""devtool sdk-update {latest eSDK url}""",eSDK installed should be upgrade if new version published,EFT,ready,IOTOS-439,,,,
TestScript,Optional_SQLite_Support ,appfw,To check sqlite is integrated in image,1,Run command 'rpm -qa | grep -i sqlite' ,See sqlite in the list,FVT,ready,IOTOS-358,,,,
TestScript,Edison_BSP_Support,bsp,To check ediosn bsp support in system,1,Run sanity test cases on edison,All cases should be passed,FVT,ready,IOTOS-713,,,,
TestScript,MinnowBoard_Support,bsp,To check minnowboard support,1,Run sanity test cases on Minnow board,All cases should be passed,FVT,ready,IOTOS-449,,,,
TestScript,GB_BXBT_Support,bsp,To check GB_BXBT support,1,Run sanity test cases on GB-BXBT,All cases should be passed,FVT,ready,IOTOS-553,,,,
TestScript,Galileo_Support,bsp,To check Galileo Gen2 support,1,Run sanity test cases on Galileo Gen2,All cases should be passed,FVT,ready,IOTOS-390,,,,
TestStep,,,,2,check images from image url,See different image generated from different branch,,,,,,,
TestScript,Source_code_build,SCM / Build Tools,To check bitbake can build image,1,bitbake imge with code,build image successfully ,FVT,ready,IOTOS-438,,,,
TestScript,Build_history_detail_info,SCM / Build Tools,To check build detail info is stored,1,git clone buildhistory.git,clone successfully,FVT,ready,IOTOS-778,,,,
TestStep,,,,2,checkout to different branch to check the git logs,See meta information of different branch,,,,,,,
TestScript,CI_enable_enabled_security_scan,SCM / Backend Services Configuration,CI system should perform automatically instrumented builds with security scan,1,check tasks enabled in CI,tasks are enabled,FVT,ready,IOTOS-780,,,,
TestScript,comm_ble_6lowpan_ping,COMMS/Bluetooth,enable 6LowPan over BLE and ping ipv6 address,1,Follow wiki to setup BLE 6LowPan environment.,,FVT,ready,IOTOS-762,,,,
TestStep,,,,2,One device pings the other's ipv6 address,"""ping6 -I eth0 <IoT address> -c 1"" PASS",,,,,,,
TestScript,comm_ble_6lowpan_ssh,COMMS/Bluetooth,enable 6LowPan over BLE and ssh to ipv6 address,1,Follow wiki to setup BLE 6LowPan environment.,,EFT,ready,IOTOS-762,,,,
TestStep,,,,2,One device ssh to the other via its ipv6 address,"""ssh  root@<IoT address>%eth0"" PASS",,,,,,,
TestScript,comm_zigbee_6lowpan_ping,COMMS/Zigbee,enable 6LowPan over ZigBee and ping ipv6 address,1,Follow wiki setup ZigBee 6LowPan environment on two IoT devices (Galileo or Minnowmax),,FVT,ready,"IOTOS-763,IOTOS-1220",,,,
TestStep,,,,2,One IoT device pings the other's ipv6 address,"""ping6 -I eth0 <IoT address> -c 1"" PASS",,,,,,,
TestScript,comm_zigbee_6lowpan_ssh,COMMS/Zigbee,enable 6LowPan over ZigBee and ssh to ipv6 address,1,Follow wiki to setup ZigBee 6LowPan environment on two IoT devices (Galileo or Minnowmax),,EFT,design,"IOTOS-763,IOTOS-1220",,,,
TestStep,,,,2,One IoT device ssh to the other's ipv6 address,"""ssh  root@<IoT address>%lowpan0"" PASS",,,,,,,
TestScript,documentation_OIC_JS_API,Documentation,To check the docs of OIC JS API,1,Check spec files ,see md files with API description ,FVT,ready,IOTOS-1178,,,,
TestScript,documentation_Configuration_Management_FW_Design,Documentation,To check the docs of Configuration Management FW Design,1,Check the doc ,the doc has content about the design of Configuration Management FW ,FVT,ready,IOTOS-711,,,,
TestScript,Boot Mode auto chosen,Software Update,Select a bootloader that can dynamically choose the boot mode,1,check related docs ,verify that uefi stub is selected for uefi compatible machines and uboot for the rest,FVT,ready,IOTOS-743,,,,
TestScript,CI_Monitor_Multi_branch,SCM / Backend Services Configuration,To check CI can monitor multi-branches to build image,1,check branches in ostro-os repo,See multi-branches,FVT,ready,IOTOS-782,,,,
TestScript,build_uninative_tarball,eSDK,build uninative tarball,1,"fetch ostro-os source codes and build uninative tarball with command: SDKMACHINE=""x86_64""(""i586"" for 32 bit) bitbake uninative-tarball",,FVT,ready,IOTOS-1208,,,,
TestStep,,,,2,check the 64bit/32bit uninative tarball can be built out,,,,,,,,
TestScript,verify_host_agnostic_native_env,eSDK,deploy uninative tarball in host environment,1,deploy the uninative tarball on web server and generate MD5 checksum,,FVT,ready,IOTOS-1208,,,,
TestStep,,,,2,create test project recipe with devtool,,,,,,,,
TestStep,,,,3,"configure the test project .bb file with adding: ""INHERIT += ""uninative"" UNINATIVE_URL = ""http://ostro/sdk/"" UNINATIVE_CHECKSUM[x86_64] = ""a3c09c01688b560d1512600487e0f3a0""""",,,,,,,,
TestStep,,,,4,build test project with bitbake,PASS if the build process succeed and no need to build any native component in the progress,,,,,,,
TestScript,appfw_add_preinstall_app,AppFW/app,Use bitbake to pre-install example app to image,1,"Edit ostro-os code, build/conf/local.conf, to add: IMAGE_INSTALL_append = "" example-app-node""",,FVT,ready,IOTOS-337,,,,
TestStep,,,,2,bitbake ostro-image and boot up. ,"There should be /apps/iodine , which is in example-app-node app.",,,,,,,
TestScript,appfw_launch_preinstall_app,AppFW/app,launch the pre-installed example app,1,systemctl start iodine-nodetest.service,,FVT,ready,IOTOS-337,,,,
TestStep,,,,3,Check if the example app is running,"Do 'ps', search if iodine-nodetest works as a daemon",,,,,,,
TestScript,appfw_container_autolaunch,AppFW/app,The container is automatically launched when launching app,1,systemctl start iodine-nodetest.service,,FVT,ready,IOTOS-342,,,,
TestStep,,,,2,Check 'journalctl -a' to see if the container is launched,"There is ""Started Container iodine-nodetest"" in the journeyctl log",,,,,,,
TestScript,appfw_container_status,AppFW/app,Read container status ,1,systemctl start iodine-nodetest.service,,FVT,ready,IOTOS-342,,,,
TestStep,,,,2,Check 'machinectl status iodine-nodetest' to see container information,"Check 'Leader', it should show the correct PID of the app",,,,,,,
TestScript,appfw_nonroot_uid,AppFW/app,check application is launched by non-root UID,1,systemctl start iodine-nodetest.service,,FVT,ready,IOTOS-339,,,,
TestStep,,,,2,"Run 'ps', check /lib/node_modules/nodetest/example.js daemon's uid",The uid of the daemon should not be root,,,,,,,
TestScript,appfw_neg_app_impersonation,AppFW/app,one app's user should not pretend to be another's user,1,Install at least two example applications into image.,,FVT,ready,IOTOS-416,,,,
TestStep,,,,2,"After system boots up, find two user id of the two example apps under /home folder. ",The two new user name should be found under /home/,,,,,,,
TestStep,,,,3,"By root account do:
# su App1    (App1 is the user name string of 1st example app)","Now, you are in App1 account.",,,,,,,
TestStep,,,,4,"Try to switch to another's user:
# su App2   (App2 is the 2nd user name)",It will fail to switch.,,,,,,,
TestScript,appfw_neg_app_manifest,AppFW/app,app cannot get assigned to non-existent user,1,"Install an application which request multiple groups (eg: bad-groups-app). At least one should be a non-existent group (eg: nonexitent1,nonexistent2)",,FVT,ready,IOTOS-418,,,,
TestStep,,,,2,"After system boots up, find the user name of the app under /home/ folder. ",The app user name should be found under /home/ (eg: evil-bad-groups),,,,,,,
TestStep,,,,3, Command: root# grep SupplementaryGroups /run/systemd/generator/$APPNAME.service," Check that requested non-existent groups (eg: nonexistent1, nonexistent2) are not in the list of assigned groups",,,,,,,
TestScript,test_swupd_remote,Software Update,Full update using swupd,1,"use ""swupd verify"" to make sure current flashed image is in good status for swupdate",no error should be shown in log,FVT,ready,IOTOS-970,,,,
TestStep,,,,2,"do repo validation using blackbox tool or other tool at client side, verify repo is correct",repo should be correct,,,,,,,
TestStep,,,,3,"apply update task using ""swupd_update -v -c"" and make sure update complete successfully, this will redownload the update repo",the update should complete successfully and corresponding files are changed,,,,,,,
TestStep,,,,4,"do ""swupd verify"" to check system is correct",check system should be in good status,,,,,,,
